# Wplace Pixel Tool 多语言功能说明

## 概述

Wplace Pixel Tool 现已支持多语言功能，包括英文、中文和日文三种语言。

## 支持的语言

- **英文 (English)** - 默认语言
- **中文 (中文)** - 简体中文
- **日本語 (日本語)** - 日文

## 访问方式

### 直接访问
- 英文版：`/` 或 `/en`
- 中文版：`/zh`
- 日文版：`/ja`

### 语言切换
网站顶部导航栏最右侧提供了语言切换器，用户可以随时切换语言。在桌面端显示语言名称，移动端只显示图标。

## 技术实现

### 文件结构
```
app/
├── i18n/
│   ├── index.ts              # 国际化工具函数
│   └── locales/
│       ├── en.json           # 英文语言包
│       ├── zh.json           # 中文语言包
│       └── ja.json           # 日文语言包
├── components/
│   └── LanguageSwitcher.tsx  # 语言切换组件
├── page.tsx                  # 英文主页
├── zh/
│   └── page.tsx              # 中文主页
└── ja/
    └── page.tsx              # 日文主页
```

### 核心功能

1. **语言包管理**
   - 使用 JSON 文件存储翻译内容
   - 支持嵌套结构，便于管理复杂内容
   - 类型安全的翻译函数

2. **路由系统**
   - 基于路径的语言识别
   - 自动重定向到默认语言
   - 保持 URL 结构的一致性

3. **语言切换器**
   - 集成在顶部导航栏最右侧
   - 响应式设计（桌面端显示语言名称，移动端只显示图标）
   - 下拉菜单形式，具有毛玻璃效果
   - 使用固定定位，确保不被页面元素遮挡
   - 动态计算位置，确保准确显示
   - 显示当前语言状态

## 添加新语言

### 1. 创建语言包文件
在 `app/i18n/locales/` 目录下创建新的 JSON 文件，例如 `fr.json`：

```json
{
  "hero": {
    "title": "Outil Pixel Wplace",
    "subtitle": "Créateur d'art pixel ultime pour Wplace",
    "description": "..."
  }
  // ... 其他翻译内容
}
```

### 2. 更新国际化配置
在 `app/i18n/index.ts` 中添加新语言：

```typescript
export const locales = ['en', 'zh', 'ja', 'fr'] as const;
export type Locale = typeof locales[number];

export const localeNames: Record<Locale, string> = {
  en: 'English',
  zh: '中文',
  ja: '日本語',
  fr: 'Français',
};

const translations = {
  en,
  zh,
  ja,
  fr, // 添加新的翻译
};
```

### 3. 创建语言路由
在 `app/` 目录下创建新的语言文件夹，例如 `fr/page.tsx`：

```typescript
import HomePage from '../page';

export default function FrenchHomePage() {
  return <HomePage locale="fr" />;
}
```

## 翻译内容结构

语言包采用嵌套结构，主要包含以下部分：

- **hero**: 英雄区域内容
- **settings**: 设置面板内容
- **palette**: 调色板相关内容
- **actions**: 操作按钮文本
- **upload**: 上传区域文本
- **tips**: 提示信息
- **features**: 功能特性描述
- **seo**: SEO 相关内容
- **demo**: 演示区域标签
- **navigation**: 导航相关文本

## 最佳实践

1. **保持一致性**
   - 确保所有语言包具有相同的结构
   - 使用相同的键名
   - 保持翻译内容的完整性

2. **本地化考虑**
   - 考虑不同语言的文本长度差异
   - 注意文化差异和表达习惯
   - 确保专业术语的准确性

3. **性能优化**
   - 语言包按需加载
   - 避免重复的翻译内容
   - 使用类型安全的翻译函数

## 测试

可以使用测试页面验证多语言功能：
- 访问 `/test-i18n` 查看翻译效果
- 测试语言切换功能
- 验证所有文本是否正确显示

## 部署

多语言功能完全兼容静态导出：
- 所有语言版本都会在构建时生成
- 支持 CDN 部署
- 无需服务器端支持 